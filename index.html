<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Ğ›ÑĞ±Ğ¸Ğ¼Ğ¾Ğ¹</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&family=Pacifico&display=swap');

    * { box-sizing: border-box; }

    body {
        margin: 0;
        min-height: 100vh;
        background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
        font-family: 'Comfortaa', sans-serif;
        color: #fff;
        overflow-x: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 1.4s ease;
        position: relative;
    }

    .stage {
        display: none;
        text-align: center;
        width: 100%;
        max-width: 720px;
        padding: 20px;
    }

    .stage.active { display: block; animation: fadeIn 0.9s ease; }

    @keyframes fadeIn {
        from { opacity: 0; transform: scale(0.94); }
        to   { opacity: 1; transform: scale(1); }
    }

    h1, h2 {
        font-size: clamp(2.4rem, 7vw, 3.6rem);
        margin: 0.6em 0.4em;
        text-shadow: 0 4px 20px rgba(255,105,180,0.5);
    }

    .btn {
        padding: clamp(14px, 5vw, 18px) clamp(28px, 8vw, 50px);
        font-size: clamp(1.5rem, 5vw, 2.1rem);
        border: none;
        border-radius: 60px;
        cursor: pointer;
        margin: 1em 0.8em;
        transition: all 0.25s ease;
        font-weight: 700;
        box-shadow: 0 8px 25px rgba(0,0,0,0.22);
        touch-action: manipulation;
    }

    #yes {
        background: #ff4081;
        color: white;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }

    #yes:hover, #yes:active { transform: translate(-50%, -50%) scale(1.06); background: #f50057; }

    #no {
        background: #607d8b;
        color: white;
        position: absolute;
        min-width: 110px;
        transition: all 0.4s ease-out;
    }

    #question-wrapper {
        position: relative;
        width: 90%;
        max-width: 640px;
        height: 420px;
        margin: 40px auto;
    }

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    /*               Ğ¨ĞºĞ°Ğ»Ğ° Ğ»ÑĞ±Ğ²Ğ¸             */
    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

    #love-container {
        width: 100%;
        padding: 0 10px;
        transition: opacity 1.2s ease, transform 1.4s ease;
    }

    #love-container.hidden {
        opacity: 0;
        transform: translateY(80px);
        pointer-events: none;
    }

    input[type="range"] {
        -webkit-appearance: none;
        width: 100%;
        height: 14px;
        background: rgba(255,255,255,0.35);
        border-radius: 20px;
        outline: none;
        margin: 2em 0 1.5em;
    }

    input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 52px;
        height: 52px;
        background: #ff4081;
        border-radius: 50%;
        cursor: pointer;
        border: 6px solid white;
        box-shadow: 0 0 25px #ff4081aa;
    }

    #percent {
        font-size: clamp(4.5rem, 15vw, 8rem);
        font-weight: 700;
        margin: 0.3em 0;
        text-shadow: 0 0 45px #ff4081;
    }

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    /*              Ğ¤Ğ¾Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ğ¸               */
    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

    .photo-particle {
        position: absolute;
        pointer-events: none;
        width: 64px;
        height: 64px;
        object-fit: cover;
        border-radius: 12px;
        box-shadow: 0 4px 16px rgba(0,0,0,0.4);
        animation: floatPhoto 5s linear forwards;
    }

    @keyframes floatPhoto {
        0%   { transform: translateY(0) rotate(0deg); opacity: 0.9; }
        100% { transform: translateY(-500px) rotate(360deg); opacity: 0; }
    }

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    /*               Ğ’Ğ¸ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ°               */
    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

    #quiz-container {
        max-width: 580px;
        margin: 2em auto;
        text-align: left;
    }

    .quiz-question {
        margin: 2.5em 0;
        font-size: 1.3rem;
    }

    .quiz-options {
        display: flex;
        flex-direction: column;
        gap: 0.9em;
        margin-top: 1.2em;
    }

    .quiz-btn {
        padding: 14px 24px;
        font-size: 1.15rem;
        border-radius: 16px;
        border: none;
        cursor: pointer;
        background: rgba(255,255,255,0.25);
        color: white;
        transition: all 0.2s;
    }

    .quiz-btn:hover { background: rgba(255,255,255,0.4); }
    .quiz-btn.correct { background: #4caf50; }
    .quiz-btn.wrong   { background: #f44336; }

    #quiz-result {
        font-size: 1.6rem;
        margin-top: 2.5em;
        min-height: 2em;
    }

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    /*         Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ           */
    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

    .love-letter {
        font-family: 'Pacifico', cursive;
        font-size: clamp(1.9rem, 5.5vw, 3.2rem);
        line-height: 1.55;
        max-width: 720px;
        margin: 1.5em auto;
        padding: 0 20px;
        opacity: 0;
        transition: opacity 2s ease;
        text-shadow: 0 4px 20px rgba(0,0,0,0.5);
        white-space: pre-wrap;
    }

    .love-letter.visible { opacity: 1; }

    @media (max-width: 480px) {
        #question-wrapper { height: 380px; }
        .photo-particle { width: 54px; height: 54px; }
    }
</style>
</head>
<body>

<!-- 1. ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ -->
<div id="stage1" class="stage active">
    <div style="cursor:pointer; padding: 40px 20px;" onclick="openEnvelope()">
        <h1 style="font-size: clamp(5rem, 20vw, 8rem); margin:0;">ğŸ’Œ</h1>
        <p style="font-size: clamp(1.5rem, 5.5vw, 2.2rem); margin-top:1.5em;">
            Ğ¢ĞµĞ±Ğµ Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ¸Ğ½ĞºĞ° ğŸ™ƒ<br>ĞĞ°Ğ¶Ğ¼Ğ¸ Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ÑŒ
        </p>
    </div>
</div>

<!-- 2. Ğ¢Ñ‹ Ğ¼ĞµĞ½Ñ Ğ»ÑĞ±Ğ¸ÑˆÑŒ? -->
<div id="stage2" class="stage">
    <h1>Ğ¢Ñ‹ Ğ¼ĞµĞ½Ñ Ğ»ÑĞ±Ğ¸ÑˆÑŒ?</h1>
    <div id="question-wrapper">
        <button id="yes" class="btn" onclick="chooseYes()">ĞšÑ€Ñ)</button>
        <button id="no" class="btn" onmouseover="evadeNo()" ontouchstart="evadeNo()">ĞĞµÑ‚</button>
    </div>
</div>

<!-- 3. Ğ¨ĞºĞ°Ğ»Ğ° -->
<div id="stage3" class="stage">
    <div id="love-container">
        <h1>ĞĞ¹, Ğ¾Ñ‡ĞµĞ½ÑŒ-Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ¿Ñ€Ğ¸ÑÑ‚Ğ½Ğ¾) Ğ Ğ½Ğ° ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ ÑĞ¸Ğ»ÑŒĞ½Ğ¾? ğŸ™ƒ</h1>
        <input type="range" id="love-meter" min="0" max="2000" value="100" step="1" oninput="updateLove(this.value)">
        <div id="percent">100%</div>
        <p id="reaction" style="font-size:1.4rem; min-height:3em; margin-top:1em;"></p>
    </div>

    <!-- 4. Ğ’Ğ¸ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ° (Ğ¿Ğ¾ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ¿Ğ¾ÑĞ»Ğµ 2000%) -->
    <div id="quiz-container" style="display:none;">
        <h2>ĞœĞ¸Ğ½Ğ¸-Ğ²Ğ¸ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ° Ğ¿Ñ€Ğ¾ Ğ½Ğ°Ñ</h2>
        <div id="quiz-questions"></div>
        <div id="quiz-result"></div>
        <button id="show-letter-btn" class="btn" style="display:none; background:#ff4081; margin-top:2em;" onclick="showFinalLetter()">
            Ğ’Ğ°Ğ¼ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾ â™¡
        </button>
    </div>

    <!-- 5. Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾ -->
    <div id="final-letter" class="love-letter">
        <!-- Ğ—Ğ´ĞµÑÑŒ Ğ±ÑƒĞ´ĞµÑ‚ Ğ²Ğ°ÑˆĞµ Ğ´Ğ»Ğ¸Ğ½Ğ½Ğ¾Ğµ Ğ»ÑĞ±Ğ¾Ğ²Ğ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ -->
    </div>
</div>

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  ĞœĞ°ÑÑĞ¸Ğ² Ğ²Ğ°ÑˆĞ¸Ñ… Ñ„Ğ¾Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ğ¹ (Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ ÑĞ²Ğ¾Ğ¸ Ğ¿ÑƒÑ‚Ğ¸)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const photos = [
    "photos/1.jpg",
    "photos/2.jpg",
    "photos/3.jpg",
    "photos/4.jpg",
    // Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ
];

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  ĞœĞ°ÑÑĞ¸Ğ² ĞºĞ¾Ğ¼Ğ¿Ğ»Ğ¸Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ² (Ğ±ÑƒĞ´ĞµÑ‚ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°Ñ‚ÑŒÑÑ Ğ¿Ñ€Ğ¸ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¸ Ğ¿Ğ¾Ğ»Ğ·ÑƒĞ½ĞºĞ°)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const compliments = [
    "Ğ¢Ñ‹ ÑĞ°Ğ¼Ğ°Ñ ĞºÑ€Ğ°ÑĞ¸Ğ²Ğ°Ñ Ğ½Ğ° ÑĞ²ĞµÑ‚Ğµ!",
    "Ğ¢Ğ²Ğ¾Ñ ÑƒĞ»Ñ‹Ğ±ĞºĞ° ÑĞ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ¼ĞµĞ½Ñ Ñ ÑƒĞ¼Ğ°.",
    "Ğ¯ Ğ¾Ğ±Ğ¾Ğ¶Ğ°Ñ Ñ‚Ğ²Ğ¾Ğ¹ ÑĞ¼ĞµÑ….",
    "Ğ¢Ñ‹ ÑƒĞ¼Ğ½Ğ¸Ñ†Ğ° Ğ¸ ĞºÑ€Ğ°ÑĞ°Ğ²Ğ¸Ñ†Ğ°.",
    "Ğ¡ Ñ‚Ğ¾Ğ±Ğ¾Ğ¹ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ ĞºĞ°Ğº Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ğº.",
    "Ğ¢Ñ‹ Ğ¼Ğ¾Ñ‘ Ğ²Ğ´Ğ¾Ñ…Ğ½Ğ¾Ğ²ĞµĞ½Ğ¸Ğµ.",
    "Ğ¢Ğ²Ğ¾Ğ¸ Ğ³Ğ»Ğ°Ğ·Ğ° ÑĞ¸ÑÑÑ‚ ÑÑ€Ñ‡Ğµ Ğ·Ğ²Ñ‘Ğ·Ğ´.",
    "Ğ¢Ñ‹ Ğ»ÑƒÑ‡ÑˆĞµ Ğ²ÑĞµÑ… Ğ½Ğ° Ğ¿Ğ»Ğ°Ğ½ĞµÑ‚Ğµ.",
    "Ğ¯ ÑÑ‡Ğ°ÑÑ‚Ğ»Ğ¸Ğ², Ñ‡Ñ‚Ğ¾ Ñ‚Ñ‹ Ñƒ Ğ¼ĞµĞ½Ñ ĞµÑÑ‚ÑŒ.",
    "Ğ¢Ñ‹ Ğ½ĞµĞ²ĞµÑ€Ğ¾ÑÑ‚Ğ½Ğ°Ñ!",
    "Ğ¢Ñ‹ Ğ´ĞµĞ»Ğ°ĞµÑˆÑŒ Ğ¼Ğ¾Ñ Ğ¶Ğ¸Ğ·Ğ½ÑŒ Ğ»ÑƒÑ‡ÑˆĞµ.",
    "Ğ¢Ñ‹ Ğ¼Ğ¾Ğ¹ ÑĞ°Ğ¼Ñ‹Ğ¹ Ğ»ÑĞ±Ğ¸Ğ¼Ñ‹Ğ¹ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº.",
    "Ğ¢Ñ‹ ÑƒĞ¼ĞµĞµÑˆÑŒ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ğ² Ñ‚Ñ€ÑƒĞ´Ğ½ÑƒÑ Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñƒ.",
    "Ğ¢Ñ‹ Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ´Ğ¾Ğ±Ñ€Ğ°Ñ Ğ¸ Ğ·Ğ°Ğ±Ğ¾Ñ‚Ğ»Ğ¸Ğ²Ğ°Ñ.",
    "Ğ¢Ñ‹ Ğ¼Ğ¾Ñ‘ ÑÑ‡Ğ°ÑÑ‚ÑŒĞµ.",
    "Ğ¢Ñ‹ Ğ¿Ñ€ĞµĞºÑ€Ğ°ÑĞ½Ğ° Ğ² Ğ»ÑĞ±Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ´Ğ½Ñ Ğ¸ Ğ½Ğ¾Ñ‡Ğ¸.",
    "Ğ¡ Ñ‚Ğ¾Ğ±Ğ¾Ğ¹ Ñ Ñ…Ğ¾Ñ‡Ñƒ ÑÑ‚Ğ°Ñ€ĞµÑ‚ÑŒ.",
    "Ğ¢Ñ‹ Ğ¼Ğ¾Ğ¹ Ğ¸Ğ´ĞµĞ°Ğ».",
    "Ğ¯ Ğ±ĞµĞ·ÑƒĞ¼Ğ½Ğ¾ Ñ‚ĞµĞ±Ñ Ğ»ÑĞ±Ğ»Ñ!",
    "Ğ¢Ñ‹ â€” Ğ»ÑƒÑ‡ÑˆĞµĞµ, Ñ‡Ñ‚Ğ¾ ÑĞ»ÑƒÑ‡Ğ¸Ğ»Ğ¾ÑÑŒ Ğ² Ğ¼Ğ¾ĞµĞ¹ Ğ¶Ğ¸Ğ·Ğ½Ğ¸."
];

let yesSize = 1.2;
let noAttempts = 0;
let reachedMax = false;
let currentQuestion = 0;
let correctAnswers = 0;

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Ğ’Ğ¸ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ° â€” Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ Ğ·Ğ´ĞµÑÑŒ
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const quizData = [
    {
        question: "Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ 1 â€” Ğ“Ğ´Ğµ Ğ¼Ñ‹ Ğ¿Ğ¾Ğ·Ğ½Ğ°ĞºĞ¾Ğ¼Ğ¸Ğ»Ğ¸ÑÑŒ?",
        options: ["Ğ’ ÑƒĞ½Ğ¸Ğ²ĞµÑ€Ğµ Ğ½Ğ° Ğ´Ñ€ ĞºĞ°Ñ„ĞµĞ´Ñ€Ñ‹", "ĞĞ° Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞµ", "Ğ’ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚ĞºĞµ", "Ğ’ ÑƒĞ½Ğ¸Ğ²ĞµÑ€Ğµ Ğ½Ğ° Ğ´Ğ½Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ñ… Ğ´Ğ²ĞµÑ€ĞµĞ¹?"],
        correct: 0   // Ğ¸Ğ½Ğ´ĞµĞºÑ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° (0-based)
    },
    {
        question: "Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ 2 â€” ĞšĞ¾Ğ³Ğ´Ğ° Ñƒ Ğ½Ğ°Ñ \"Ğ”ĞµĞ½ÑŒ Ñ€Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ\"?",
        options: ["14 Ñ„ĞµĞ²Ñ€Ğ°Ğ»Ñ", "26 Ğ½Ğ¾ÑĞ±Ñ€Ñ", "5 Ğ½Ğ¾ÑĞ±Ñ€Ñ", "28 Ğ½Ğ¾ÑĞ±Ñ€Ñ"],
        correct: 2
    },
    {
        question: "Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ 3 â€” ĞœĞµÑÑ‚Ğ¾ Ğ² ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ğ¼Ñ‹ Ğ²Ñ€ÑĞ´ Ğ»Ğ¸ ÑÑ…Ğ¾Ğ´Ğ¸Ğ¼ ĞµÑ‰Ğµ Ñ€Ğ°Ğ· ğŸ˜…",
        options: ["BakeHouse", "Ğ›ÑƒĞ½Ğ°", "Ğ‘ĞµĞ»Ñ‹Ğ¹ Ğ»Ğ¸Ñ", "ĞŸĞ°Ğ»ĞµÑ€Ğ¼Ğ¾"],
        correct: 0
    },
    {
        question: "Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ 4 â€” ĞšĞ¾Ğ½ĞµÑ‡Ğ½Ğ¾",
        options: ["Ğ”Ğ°", "ĞĞµÑ‚", "?", "ĞšĞ¾Ğ½ÑÑˆĞ½Ñ"],
        correct: 3
    },
    {
        question: "Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ 5 â€” Ğ§ĞµĞ¼Ñƒ Ğ¼Ñ‹ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ ÑƒĞ´ĞµĞ»ÑĞµĞ¼ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ²ÑĞµĞ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸? ğŸ¤­",
        options: ["Ğ Ğ°Ğ·Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ°Ğ¼ Ğ½Ğ¸ Ğ¾ Ñ‡ĞµĞ¼", "Ğ’Ñ‹Ğ±Ğ¾Ñ€Ñƒ Ñ‡ĞµĞ³Ğ¾-Ñ‚Ğ¾", "ĞŸÑ€Ğ¾Ğ³ÑƒĞ»ĞºĞ°Ğ¼"],
        correct: 1
    }
];

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function openEnvelope() {
    document.getElementById('stage1').classList.remove('active');
    setTimeout(() => document.getElementById('stage2').classList.add('active'), 700);
}

function evadeNo() {
    const wrapper = document.getElementById('question-wrapper');
    const noBtn = document.getElementById('no');

    noAttempts++;

    yesSize += 0.38;
    document.getElementById('yes').style.transform = `translate(-50%, -50%) scale(${yesSize})`;

    const padding = 60;
    const maxX = wrapper.clientWidth  - noBtn.offsetWidth  - padding * 2;
    const maxY = wrapper.clientHeight - noBtn.offsetHeight - padding * 2;

    const safeMaxX = Math.max(120, maxX);
    const safeMaxY = Math.max(120, maxY);

    const x = padding + Math.random() * safeMaxX;
    const y = padding + Math.random() * safeMaxY;

    noBtn.style.left = x + 'px';
    noBtn.style.top  = y + 'px';

    let noSize = Math.max(0.55, 1.4 - noAttempts * 0.12);
    noBtn.style.transform = `scale(${noSize})`;
    noBtn.style.fontSize  = (2.0 - noAttempts * 0.14) + 'rem';
}

function chooseYes() {
    document.getElementById('stage2').classList.remove('active');
    setTimeout(() => {
        document.getElementById('stage3').classList.add('active');
        updateLove(100);
    }, 600);
}

function updateLove(val) {
    const percent = parseInt(val);
    document.getElementById('percent').textContent = percent + '%';

    // â”€â”€â”€ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ»Ğ¸Ğ¼ĞµĞ½Ñ‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const randomIndex = Math.floor(Math.random() * compliments.length);
    document.getElementById('reaction').textContent = compliments[randomIndex];
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    if (percent >= 2000 && !reachedMax) {
        reachedMax = true;
        document.getElementById('love-container').classList.add('hidden');
        startQuiz();
    }

    // ĞŸĞ¾ÑĞ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ„Ğ¾Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ğ¹ Ğ²Ğ¼ĞµÑÑ‚Ğ¾ ÑĞµÑ€Ğ´ĞµÑ‡ĞµĞº
    if (Math.random() < 0.4 + percent / 5000) {
        createPhotoParticle();
    }
}

function createPhotoParticle() {
    if (photos.length === 0) return;

    const img = document.createElement('img');
    img.className = 'photo-particle';
    img.src = photos[Math.floor(Math.random() * photos.length)];
    img.style.left = Math.random() * 100 + 'vw';
    img.style.top  = (Math.random() * 40 + 40) + 'vh'; // Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµĞ¼ Ğ½Ğµ ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ğ½Ğ¸Ğ·ĞºĞ¾
    document.body.appendChild(img);

    setTimeout(() => img.remove(), 6000);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//           Ğ’Ğ¸ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ°
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function startQuiz() {
    const container = document.getElementById('quiz-container');
    container.style.display = 'block';
    renderQuestion();
}

function renderQuestion() {
    const qContainer = document.getElementById('quiz-questions');
    qContainer.innerHTML = '';

    if (currentQuestion >= quizData.length) {
        showQuizResult();
        return;
    }

    const q = quizData[currentQuestion];

    const title = document.createElement('div');
    title.className = 'quiz-question';
    title.textContent = `${currentQuestion + 1}. ${q.question}`;
    qContainer.appendChild(title);

    const opts = document.createElement('div');
    opts.className = 'quiz-options';

    q.options.forEach((opt, idx) => {
        const btn = document.createElement('button');
        btn.className = 'quiz-btn';
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(idx);
        opts.appendChild(btn);
    });

    qContainer.appendChild(opts);
}

function checkAnswer(selected) {
    const q = quizData[currentQuestion];
    const buttons = document.querySelectorAll('.quiz-options .quiz-btn');

    buttons.forEach((btn, i) => {
        btn.disabled = true;
        if (i === q.correct) btn.classList.add('correct');
        if (i === selected && i !== q.correct) btn.classList.add('wrong');
    });

    if (selected === q.correct) correctAnswers++;

    setTimeout(() => {
        currentQuestion++;
        renderQuestion();
    }, 1400);
}

function showQuizResult() {
    const result = document.getElementById('quiz-result');
    const percent = Math.round((correctAnswers / quizData.length) * 100);

    result.innerHTML = `
        Ğ¢Ñ‹ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¸Ğ»Ğ° Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾ Ğ½Ğ° ${correctAnswers} Ğ¸Ğ· ${quizData.length} (${percent}%)<br>
        <span style="font-size:1.3rem; opacity:0.9;">
            ${percent >= 80 ? 'Ğ¢Ñ‹ Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰Ğ¸Ğ¹ ÑĞºÑĞ¿ĞµÑ€Ñ‚ Ğ¿Ğ¾ Ğ½Ğ°Ğ¼ â™¡' : 
              percent >= 50 ? 'ĞĞµĞ¿Ğ»Ğ¾Ñ…Ğ¾, Ğ½Ğ¾ Ñ Ñ€Ğ°ÑÑĞºĞ°Ğ¶Ñƒ Ñ‚ĞµĞ±Ğµ ĞµÑ‰Ñ‘ Ğ±Ğ¾Ğ»ÑŒÑˆĞµâ€¦' : 
              'Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ·Ğ°Ğ¿Ğ¾Ğ¼Ğ½Ğ¸ÑˆÑŒ Ğ²ÑÑ‘ Ğ²Ğ°Ğ¶Ğ½Ğ¾Ğµ ;)'}
        </span>
    `;

    document.getElementById('show-letter-btn').style.display = 'inline-block';
}

function showFinalLetter() {
    document.getElementById('quiz-container').style.display = 'none';
    const letter = document.getElementById('final-letter');

    // â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†
    //          Ğ—Ğ´ĞµÑÑŒ Ğ²Ğ°ÑˆĞµ Ğ´Ğ»Ğ¸Ğ½Ğ½Ğ¾Ğµ Ğ»ÑĞ±Ğ¾Ğ²Ğ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    letter.innerHTML = `
        Ğ›ÑĞ±Ğ¸Ğ¼Ğ°Ñ....

        Ğ¯ Ğ´Ğ¾Ğ»Ğ³Ğ¾ Ğ´ÑƒĞ¼Ğ°Ğ», ĞºĞ°Ğº Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾ Ğ²Ñ‹Ñ€Ğ°Ğ·Ğ¸Ñ‚ÑŒ Ğ²ÑÑ‘, Ñ‡Ñ‚Ğ¾ Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒÑ Ğº Ñ‚ĞµĞ±Ğµ. 
        ĞĞ°Ğ²ĞµÑ€Ğ½Ğ¾Ğµ, Ğ½Ğ¸ĞºĞ°ĞºĞ¸Ğµ ÑĞ»Ğ¾Ğ²Ğ° Ğ½Ğµ ÑĞ¼Ğ¾Ğ³ÑƒÑ‚ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‚ÑŒ ÑÑ‚Ğ¾ Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ, Ğ½Ğ¾ Ñ Ğ²ÑÑ‘ Ñ€Ğ°Ğ²Ğ½Ğ¾ Ğ¿Ğ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒÑ.

        Ğ¢Ñ‹ â€” Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ» Ğ¼Ğ¾Ñ‘ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾ Ñ‚Ğ¾Ğ¼, Ñ‡Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ ÑÑ‡Ğ°ÑÑ‚ÑŒĞµ. 
        ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ Ñ Ñ‚Ğ¾Ğ±Ğ¾Ğ¹ â€” ÑÑ‚Ğ¾ Ğ¼Ğ°Ğ»ĞµĞ½ÑŒĞºĞ¾Ğµ Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ¾, Ñ‡Ñ‚Ğ¾ ÑĞ°Ğ¼Ñ‹Ğµ Ğ²Ğ°Ğ¶Ğ½Ñ‹Ğµ Ğ²ĞµÑ‰Ğ¸ Ğ² Ğ¶Ğ¸Ğ·Ğ½Ğ¸ Ğ½Ğµ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°ÑÑ‚ÑÑ Ğ¸ Ğ½Ğµ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€ÑƒÑÑ‚ÑÑ, 
        Ğ° Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´ÑÑ‚, ĞºĞ¾Ğ³Ğ´Ğ° Ñ€ÑĞ´Ğ¾Ğ¼ Ğ½ÑƒĞ¶Ğ½Ñ‹Ğ¹ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº.

        Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾ Ñ‚ĞµĞ±Ğµ Ğ·Ğ° Ñ‚Ğ¾, Ñ‡Ñ‚Ğ¾ Ñ‚Ñ‹ ÑĞ¼ĞµÑ‘ÑˆÑŒÑÑ Ğ½Ğ°Ğ´ Ğ¼Ğ¾Ğ¸Ğ¼Ğ¸ Ğ³Ğ»ÑƒĞ¿Ñ‹Ğ¼Ğ¸ ÑˆÑƒÑ‚ĞºĞ°Ğ¼Ğ¸, 
        Ğ·Ğ° Ñ‚Ğ¾, Ñ‡Ñ‚Ğ¾ ÑĞµÑ€Ğ´Ğ¸ÑˆÑŒÑÑ, ĞºĞ¾Ğ³Ğ´Ğ° Ñ Ğ²Ñ‹ĞºĞ¸Ğ´Ñ‹Ğ²Ğ°Ñ ĞºĞ°ĞºÑƒÑ-Ğ½Ğ¸Ğ±ÑƒĞ´ÑŒ Ğ³Ğ»ÑƒĞ¿Ğ¾ÑÑ‚ÑŒ, Ğ¸ Ğ²ÑÑ‘ Ñ€Ğ°Ğ²Ğ½Ğ¾ Ğ¾Ğ±Ğ½Ğ¸Ğ¼Ğ°ĞµÑˆÑŒ Ğ¼ĞµĞ½Ñ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹, 
        Ğ·Ğ° Ñ‚Ğ²Ğ¾Ğ¸ Ğ¾ÑĞ¾Ğ±Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ñ‡ÑƒĞ´Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ñ ÑƒĞ¶Ğµ Ğ»ÑĞ±Ğ»Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ, Ñ‡ĞµĞ¼ ÑĞ²Ğ¾Ğ¸ ÑĞ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ.

        Ğ¯ Ñ…Ğ¾Ñ‡Ñƒ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ñ‚Ñ‹ Ğ²ÑĞµĞ³Ğ´Ğ° Ğ·Ğ½Ğ°Ğ»Ğ°: Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ¼ĞµĞ½Ñ Ğ½Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Â«Ğ»ÑĞ±Ğ¸Ğ¼Ğ°Ñ Ğ´ĞµĞ²ÑƒÑˆĞºĞ°Â». 
        Ğ¢Ñ‹ â€” Ğ¼Ğ¾Ğ¹ Ğ¼Ğ¸Ñ€, Ğ¼Ğ¾Ğ¹ ÑĞ°Ğ¼Ñ‹Ğ¹ Ğ´Ğ¾Ñ€Ğ¾Ğ³Ğ¾Ğ¹ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº, Ğ¼Ğ¾Ğ¹ ÑĞ°Ğ¼Ñ‹Ğ¹ ÑĞ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¼Ğ¾Ñ‚Ğ¸Ğ²Ğ°Ñ‚Ğ¾Ñ€.

        Ğ¯ Ğ¾Ğ±ĞµÑ‰Ğ°Ñ Ğ±Ñ‹Ñ‚ÑŒ Ñ€ÑĞ´Ğ¾Ğ¼ â€” Ğ² Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¸Ğµ Ğ´Ğ½Ğ¸ Ğ¸ Ğ² Ñ‚Ğµ, ĞºĞ¾Ğ³Ğ´Ğ° Ğ²ÑÑ‘ Ğ¸Ğ´Ñ‘Ñ‚ Ğ½Ğµ Ñ‚Ğ°Ğº. 
        ĞĞ±ĞµÑ‰Ğ°Ñ ÑĞ»ÑƒÑˆĞ°Ñ‚ÑŒ, Ğ´Ğ°Ğ¶Ğµ ĞºĞ¾Ğ³Ğ´Ğ° Ğ¾Ñ‡ĞµĞ½ÑŒ ÑƒÑÑ‚Ğ°Ğ». 
        ĞĞ±ĞµÑ‰Ğ°Ñ ÑƒÑ‡Ğ¸Ñ‚ÑŒÑÑ Ğ±Ñ‹Ñ‚ÑŒ Ğ»ÑƒÑ‡ÑˆĞµ â€” Ğ´Ğ»Ñ Ñ‚ĞµĞ±Ñ Ğ¸ Ñ€Ğ°Ğ´Ğ¸ Ğ½Ğ°Ñ.

        Ğ¢Ñ‹ â€” Ğ»ÑƒÑ‡ÑˆĞµĞµ, Ñ‡Ñ‚Ğ¾ ÑĞ¾ Ğ¼Ğ½Ğ¾Ğ¹ ÑĞ»ÑƒÑ‡Ğ°Ğ»Ğ¾ÑÑŒ. 
        Ğ˜ Ñ Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ½Ğ°Ğ´ĞµÑÑÑŒ, Ñ‡Ñ‚Ğ¾ ÑĞ¼Ğ¾Ğ³Ñƒ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ Ñ‚Ğ°Ğº, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ñ‚Ñ‹ Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ğ»Ğ° Ñ‚Ğ¾ Ğ¶Ğµ ÑĞ°Ğ¼Ğ¾Ğµ Ñ€ÑĞ´Ğ¾Ğ¼ ÑĞ¾ Ğ¼Ğ½Ğ¾Ğ¹.

        Ğ›ÑĞ±Ğ»Ñ Ñ‚ĞµĞ±Ñ. 
        ĞÑ‡ĞµĞ½ÑŒ. 
        Ğ¡Ğ¸Ğ»ÑŒĞ½Ğ¾. 

        Ğ¢Ğ²Ğ¾Ğ¹ Ğ”ĞµĞ½Ğ¸Ñ
    `;
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    letter.classList.add('visible');
}
</script>

</body>
</html>
